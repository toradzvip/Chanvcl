local player = game.Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = char:WaitForChild("HumanoidRootPart")
local humanoid = char:WaitForChild("Humanoid")
local flying = false
local flySpeed = 150  -- Tăng tốc độ bay

-- UI cho Mobile
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")

local flyButton = Instance.new("TextButton")
flyButton.Size = UDim2.new(0.2, 0, 0.1, 0)
flyButton.Position = UDim2.new(0.75, 0, 0.8, 0)
flyButton.Text = "Fly"
flyButton.Parent = screenGui
flyButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
flyButton.TextScaled = true
flyButton.Font = Enum.Font.SourceSansBold
flyButton.Draggable = true  -- Cho phép kéo nút
flyButton.BorderSizePixel = 3
flyButton.BorderColor3 = Color3.fromRGB(255, 255, 255)

local bodyVelocity = Instance.new("BodyVelocity")
bodyVelocity.MaxForce = Vector3.new(0, math.huge, 0)  -- Chỉ tác động theo trục Y

local function startFlying()
    if flying then return end
    flying = true
    bodyVelocity.Parent = humanoidRootPart
    bodyVelocity.Velocity = Vector3.new(0, flySpeed, 0)  -- Bay lên nhanh hơn
    humanoid.PlatformStand = true

    flyButton.Text = "Stop"
    flyButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
end

local function stopFlying()
    flying = false
    bodyVelocity.Parent = nil
    humanoid.PlatformStand = false
    flyButton.Text = "Fly"
    flyButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
end

-- Bật/tắt bay bằng nút trên Mobile
flyButton.MouseButton1Click:Connect(function()
    if flying then
        stopFlying()
    else
        startFlying()
    end
end)
